<footer class="site-custom-footer">
  <div class="footer-inner">
    
    <div class="footer-top">
      <div class="footer-brand">
        <span class="footer-logo-text">{{ site.title }}</span>
        <p class="footer-tagline">Organize your physical world.</p>
      </div>
      
      <div class="footer-nav">
        <a href="/" class="footer-nav-link">App</a>
        <a href="/read/" class="footer-nav-link">Read</a>
        <a href="/about/" class="footer-nav-link">About</a>
        <a href="/contact/" class="footer-nav-link">Contact</a>
        <a href="/privacy/" class="footer-nav-link">Privacy</a>
        <a href="/terms/" class="footer-nav-link">Terms</a>
      </div>
    </div>

    <div class="footer-divider"></div>

    <div class="footer-bottom">
      <div class="footer-copyright">
        &copy; {{ site.time | date: '%Y' }} {{ site.title }}. All rights reserved.
      </div>
      
      <div class="footer-social-icons">
        {% for link in site.footer.links %}
          <a href="{{ link.url }}" class="footer-social-link" aria-label="{{ link.label }}">
            <i class="{{ link.icon }}" aria-hidden="true"></i>
          </a>
        {% endfor %}
        <a href="{{ site.url | append: site.baseurl | default: site.url }}/feed.xml" class="footer-social-link" aria-label="RSS Feed">
          <i class="fas fa-rss-square" aria-hidden="true"></i>
        </a>
      </div>
    </div>
    
  </div>
</footer>

<!-- Scroll to Top Button -->
<button class="scroll-to-top" id="scrollToTop" aria-label="Scroll to top">
  <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <polyline points="18 15 12 9 6 15" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
</button>

<script>
(function() {
  const scrollBtn = document.getElementById('scrollToTop');
  if (!scrollBtn) return;

  // Show/hide button based on scroll position
  function toggleScrollBtn() {
    if (window.scrollY > 400) {
      scrollBtn.classList.add('is-visible');
    } else {
      scrollBtn.classList.remove('is-visible');
    }
  }

  // Custom smooth scroll for Safari compatibility
  function smoothScrollToTop() {
    const startPosition = window.pageYOffset;
    const duration = 600; // ms
    let startTime = null;

    function easeOutCubic(t) {
      return 1 - Math.pow(1 - t, 3);
    }

    function animation(currentTime) {
      if (startTime === null) startTime = currentTime;
      const elapsed = currentTime - startTime;
      const progress = Math.min(elapsed / duration, 1);
      const easeProgress = easeOutCubic(progress);

      window.scrollTo(0, startPosition * (1 - easeProgress));

      if (elapsed < duration) {
        requestAnimationFrame(animation);
      }
    }

    requestAnimationFrame(animation);
  }

  // Event listeners
  window.addEventListener('scroll', toggleScrollBtn, { passive: true });
  scrollBtn.addEventListener('click', smoothScrollToTop);

  // Initial check
  toggleScrollBtn();
})();
</script>