{% assign screen_images = site.static_files | where_exp: "file", "file.path contains '/assets/images/screen/'" | where_exp: "file", "file.extname == '.webp'" %}

  <div class="sidebar-widget app-showcase-widget">
    <a href="{{ site.app_store_url }}" class="sidebar-slideshow-link">
    <div class="app-slideshow-container">
      <div class="app-slideshow-wrapper">
        {% for image in screen_images %}
        <div class="app-slide">
          <img src="{{ image.path }}" alt="WatInside app screenshot showcasing home inventory features" class="app-slide-img" loading="lazy">
        </div>
        {% endfor %}
      </div>
      <!-- Navigation dots -->
      <div class="slideshow-dots-wrapper" style="text-align:center; margin-top: 10px;">
        {% for image in screen_images %}
        <span class="dot"></span>
        {% endfor %}
      </div>
    </div>
    </a>

    <a href="{{ site.app_store_url }}" class="btn-early-access sidebar-early-access">
      Get Early Access
    </a>

  </div>





<script>
(function() {
  const slides = document.querySelectorAll('.app-slide');
  const dots = document.querySelectorAll('.slideshow-dots-wrapper .dot');
  let slideIndex = 0;

  if (slides.length === 0) return;

  // Show first slide
  slides[0].classList.add('active');
  if (dots[0]) dots[0].classList.add('active');

  function nextSlide() {
    // Remove active from current
    slides[slideIndex].classList.remove('active');
    if (dots[slideIndex]) dots[slideIndex].classList.remove('active');

    // Move to next
    slideIndex = (slideIndex + 1) % slides.length;

    // Add active to new
    slides[slideIndex].classList.add('active');
    if (dots[slideIndex]) dots[slideIndex].classList.add('active');
  }

  // Auto advance every 4 seconds
  setInterval(nextSlide, 4000);
})();
</script>